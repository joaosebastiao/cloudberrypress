// This is a simple example dictionary.
const dictionary = new Set([
    "cold",
    "brr",
    "o",
    "k",
    "chapter",
    "a",
"a.m.",
"ac",
"act",
"acts",
"add",
"add-on",
"adds",
"admit",
"admits",
"ads",
"adz",
"aft",
"ah",
"ahh",
"all",
"am",
"an",
"and",
"angst",
"ann",
"ant",
"any",
"apt",
"are",
"as",
"ash",
"ask",
"asking",
"asks",
"asp",
"ass",
"at",
"atlantic",
"aww",
"ax",
"back",
"backpack",
"backs",
"backup",
"bad",
"bag",
"bags",
"ball",
"balls",
"bammm",
"ban",
"band",
"bandit",
"bandits",
"bang",
"bangs",
"banish",
"bank",
"bankrupt",
"bash",
"bashing",
"basics",
"basilisk",
"bask",
"basket",
"basketball",
"bass",
"bast",
"bat",
"bath",
"bats",
"batt",
"bay",
"be",
"beck",
"bed",
"beds",
"beg",
"begs",
"bell",
"bells",
"belt",
"ben",
"bench",
"bend",
"bends",
"benefit",
"bent",
"best",
"bet",
"beth",
"bets",
"bib",
"bibb",
"bid",
"bidding",
"biff",
"big",
"bikini",
"bilk",
"bill",
"bills",
"bin",
"bins",
"bit",
"bits",
"black",
"bland",
"blank",
"blanket",
"blast",
"blasts",
"bled",
"blend",
"blink",
"blinking",
"blinks",
"blip",
"bliss",
"blob",
"bloc",
"block",
"blocks",
"blot",
"blunt",
"blush",
"bmw",
"bob",
"bob",
"bobcat",
"bobcats",
"boff",
"bog",
"bomb",
"bond",
"bong",
"bop",
"born",
"bort",
"boss",
"bott",
"box",
"brad",
"brag",
"brags",
"bran",
"branch",
"bras",
"brass",
"brat",
"bred",
"brick",
"brig",
"brim",
"brin",
"bring",
"brings",
"brink",
"brisk",
"brit",
"brrr",
"brrring",
"brunch",
"brush",
"bub",
"buck",
"bucket",
"buckets",
"bud",
"bud",
"buds",
"buff",
"bug",
"bugs",
"bulb",
"bulbs",
"bulk",
"bum",
"bump",
"bumps",
"bun",
"bunch",
"bund",
"bunk",
"bunn",
"buns",
"bunt",
"bus",
"busk",
"buss",
"bust",
"but",
"buts",
"butt",
"butts",
"buzz",
"by",
"cab",
"cabin",
"cabinet",
"cabins",
"cad",
"cads",
"call",
"calling",
"calls",
"cam",
"camp",
"camping",
"can",
"cannot",
"cant",
"cap",
"caps",
"cash",
"cask",
"cast",
"casting",
"casts",
"cat",
"cats",
"celt",
"champ",
"champs",
"chant",
"chants",
"chat",
"chats",
"chatting",
"check",
"check-up",
"check-ups",
"checking",
"checkout",
"checks",
"chenin",
"cherish",
"chess",
"chest",
"chestnuts",
"chicks",
"chid",
"chill",
"chills",
"chin",
"chip",
"chips",
"chomp",
"chop",
"chops",
"chuck",
"chucks",
"chump",
"chumps",
"chunk",
"clad",
"clam",
"clamps",
"clams",
"clan",
"clang",
"clap",
"claps",
"clarinet",
"clash",
"clasps",
"class",
"classic",
"clay",
"clef",
"clench",
"click",
"clicks",
"cliff",
"cliffs",
"clifftop",
"cling",
"clings",
"clinic",
"clip",
"clips",
"clock",
"clog",
"closet",
"clot",
"club",
"clubs",
"cob",
"cobb",
"cod",
"cog",
"comet",
"comic",
"comm",
"comp",
"con",
"conn",
"contact",
"content",
"contest",
"contracts",
"cop",
"cops",
"cord",
"cork",
"corm",
"corn",
"coss",
"cost",
"cot",
"cots",
"count",
"cox",
"crab",
"crack",
"cracking",
"cracks",
"craft",
"crafting",
"crafts",
"cram",
"cramp",
"cranks",
"crap",
"crash",
"crashing",
"credit",
"crest",
"crib",
"cris",
"crisp",
"crock",
"crop",
"crops",
"crud",
"crumbling",
"crush",
"crushing",
"crux",
"cub",
"cuff",
"cull",
"cult",
"cup",
"cups",
"cusk",
"cusp",
"cuss",
"cut",
"cuts",
"dab",
"dad",
"dads",
"daft",
"dag",
"dak",
"dam",
"damp",
"dan",
"dash",
"day",
"days",
"dazzling",
"deb",
"deck",
"deckman",
"deft",
"delish",
"dell",
"den",
"denim",
"dens",
"dent",
"depth",
"desk",
"desks",
"devilish",
"dex",
"did",
"dig",
"diggin",
"digging",
"digs",
"dill",
"dim",
"diminish",
"diminishing",
"din",
"dint",
"dip",
"dips",
"direct",
"directs",
"disc",
"discuss",
"disgust",
"dish",
"disk",
"dismiss",
"display",
"dissent",
"distinct",
"distract",
"distracts",
"do",
"dock",
"docks",
"docs",
"does",
"doff",
"dog",
"dogs",
"doll",
"don",
"door",
"dorm",
"doss",
"dost",
"dot",
"dots",
"down",
"dr.",
"drab",
"draft",
"drafts",
"drag",
"dragging",
"drags",
"dram",
"dress",
"drift",
"drifts",
"drill",
"drink",
"drinks",
"drip",
"dripping",
"drips",
"drop",
"drops",
"drub",
"drug",
"drum",
"drums",
"dub",
"duchess",
"duck",
"duckbill",
"duckbills",
"ducks",
"duct",
"dud",
"duff",
"dug",
"dull",
"dump",
"dumps",
"dunn",
"dusk",
"dust",
"dusts",
"ebb",
"edit",
"effect",
"effects",
"egg",
"eggs",
"eggshells",
"eh",
"elf",
"elk",
"elm",
"elm",
"emits",
"enchanting",
"enchants",
"end",
"ends",
"entrap",
"epic",
"eric",
"essay",
"ethics",
"evict",
"exhibit",
"exist",
"exists",
"exit",
"exits",
"expect",
"expects",
"expel",
"experiment",
"express",
"extends",
"extinct",
"fabric",
"fact",
"facts",
"fad",
"fading",
"fall",
"falls",
"fan",
"fangs",
"fans",
"fantastic",
"fast",
"fat",
"fats",
"fax",
"fed",
"feel",
"feels",
"fell",
"felt",
"fen",
"fend",
"fess",
"fest",
"fez",
"fib",
"fig",
"figs",
"fill",
"fills",
"film",
"filth",
"fin",
"finish",
"finishing",
"finn",
"fisc",
"fish",
"fishing",
"fist",
"fists",
"fit",
"fits",
"fix",
"fixing",
"fizz",
"flab",
"flag",
"flags",
"flak",
"flam",
"flan",
"flap",
"flap-jacks",
"flapping",
"flaps",
"flash",
"flask",
"flasks",
"flat",
"flax",
"flecks",
"fled",
"flesh",
"flex",
"flicks",
"flinch",
"flings",
"flint",
"flip",
"flips",
"flit",
"floc",
"flock",
"flocks",
"flog",
"flop",
"flops",
"fluff",
"flung",
"flush",
"flux",
"fob",
"fog",
"fond",
"font",
"fop",
"for",
"ford",
"forget",
"forgets",
"forgot",
"fork",
"form",
"fort",
"foss",
"fossil",
"fossils",
"fox",
"fran",
"frank",
"frantic",
"frap",
"fred",
"fresh",
"fret",
"frets",
"frog",
"frogs",
"from",
"front",
"full",
"fun",
"fund",
"funds",
"fuss",
"fuzz",
"gab",
"gabs",
"gad",
"gaff",
"gag",
"gal",
"gamp",
"gang",
"gap",
"gaping",
"gaps",
"gas",
"gasp",
"gasps",
"gast",
"get",
"gets",
"getting",
"gib",
"gibbs",
"gift",
"gifts",
"gig",
"gild",
"gill",
"gills",
"gilt",
"glad",
"glass",
"glen",
"glib",
"glint",
"glinting",
"glints",
"glob",
"glop",
"glum",
"glut",
"go",
"gob",
"goblin",
"goblins",
"god",
"gold",
"golf",
"gong",
"good",
"got",
"grab",
"grabs",
"grad",
"gram",
"gran",
"grand",
"granddad",
"grandkid",
"grandkids",
"grandma",
"grandson",
"grant",
"grants",
"grasp",
"grasps",
"grass",
"grassland",
"gray",
"grid",
"griffin",
"griffins",
"grill",
"grilling",
"grills",
"grim",
"grin",
"grinning",
"grins",
"grip",
"grips",
"gris",
"grit",
"grog",
"grub",
"gruff",
"grum",
"grunt",
"grunts",
"guff",
"gulf",
"gull",
"gulp",
"gulps",
"gum",
"gun",
"gup",
"gust",
"gut",
"guts",
"h",
"ha",
"hack",
"had",
"haft",
"hag",
"half",
"hall",
"halls",
"hallway",
"ham",
"hand",
"handbag",
"handcuffs",
"handgun",
"hands",
"hang",
"hanging",
"hangs",
"has",
"hash",
"hast",
"hat",
"hats",
"have",
"having",
"hay",
"he",
"heck",
"hectic",
"heft",
"hefts",
"held",
"hell",
"helm",
"helms",
"help",
"helping",
"helpings",
"helps",
"hem",
"hemp",
"hen",
"her",
"herself",
"hex",
"hey",
"hi",
"hid",
"hill",
"hills",
"hilltop",
"hilt",
"him",
"himself",
"hint",
"hints",
"hip",
"hips",
"his",
"hiss",
"hit",
"hits",
"hmm",
"hob",
"hog",
"hogg",
"hon",
"honk",
"honks",
"hop",
"hops",
"horn",
"hot",
"hots",
"how",
"hub",
"huff",
"huffs",
"hug",
"hugging",
"hugs",
"hulk",
"hull",
"hum",
"hump",
"hums",
"hun",
"hunch",
"hung",
"hunt",
"hunting",
"hunts",
"hush",
"husk",
"hut",
"huts",
"i",
"i-pad",
"i-pads",
"i-pods",
"if",
"ifs",
"ilk",
"ill",
"imp",
"impending",
"impress",
"imprint",
"imps",
"in",
"inch",
"inherit",
"ink",
"inn",
"insist",
"insists",
"inspect",
"inspects",
"instinct",
"instructs",
"intact",
"intel",
"intend",
"intent",
"interest",
"into",
"invent",
"is",
"it",
"its",
"itself",
"jab",
"jack",
"jack",
"jacket",
"jackpot",
"jam",
"jan",
"jazz",
"jeb",
"jell",
"jellyfish",
"jen",
"jenn",
"jess",
"jest",
"jet",
"jets",
"jib",
"jig",
"jill",
"jill",
"jilt",
"job",
"jobs",
"jog",
"jogs",
"josh",
"joss",
"jot",
"jots",
"jotting",
"jug",
"jump",
"jumps",
"jun",
"june",
"junk",
"just",
"jut",
"juts",
"k-9",
"kat",
"kats",
"keg",
"kelp",
"kemp",
"kent",
"kent",
"kents",
"kept",
"kest",
"kick",
"kicks",
"kid",
"kidding",
"kids",
"kill",
"kills",
"kiln",
"kilt",
"kim",
"kin",
"king",
"kings",
"kip",
"kiss",
"kist",
"kit",
"kits",
"kitts",
"klepp",
"kops",
"koss",
"krig",
"kris",
"lab",
"lack",
"lag",
"lam",
"lamp",
"lamps",
"land",
"landing",
"lands",
"lap",
"laps",
"laptop",
"lass",
"last",
"lat",
"lats",
"lavish",
"lax",
"lay",
"led",
"left",
"leg",
"legs",
"lek",
"lend",
"lens",
"lent",
"less",
"lest",
"let",
"lets",
"letting",
"lev",
"lex",
"lick",
"licks",
"lid",
"lids",
"lift",
"lifts",
"like",
"likes",
"lilt",
"limit",
"limits",
"limp",
"limps",
"lin",
"ling",
"link",
"linn",
"lint",
"lip",
"lips",
"lipstick",
"lisp",
"lisps",
"list",
"list",
"lists",
"lits",
"liv",
"living",
"liz",
"lob",
"lock",
"lockbox",
"lockdown",
"locket",
"locks",
"loft",
"log",
"logs",
"loll",
"long",
"look",
"looks",
"lop",
"lord",
"loss",
"lost",
"lot",
"lots",
"lox",
"luck",
"luff",
"lug",
"lull",
"lump",
"lumps",
"lunch",
"lungs",
"lunt",
"lust",
"lux",
"mack",
"macs",
"mad",
"madrid",
"mag",
"mall",
"man",
"map",
"maps",
"mascot",
"mask",
"masks",
"mass",
"mast",
"mat",
"math",
"mats",
"matt",
"matt",
"max",
"may",
"me",
"meld",
"mell",
"mell",
"melt",
"melting",
"melts",
"men",
"mend",
"mends",
"merits",
"mess",
"met",
"mick",
"midst",
"milk",
"mill",
"mills",
"milt",
"mimic",
"min",
"mint",
"miss",
"missing",
"mist",
"mist",
"mitt",
"mix",
"mix-up",
"mob",
"mock-up",
"mocks",
"mod",
"moll",
"mom",
"moms",
"monday",
"moon",
"mop",
"mopping",
"mops",
"more",
"morn",
"mort",
"mosk",
"moss",
"most",
"mots",
"mott",
"mr",
"mrs",
"much",
"mud",
"muff",
"mug",
"mugs",
"mull",
"mum",
"mumm",
"munch",
"musk",
"must",
"mutt",
"my",
"myself",
"nab",
"nag",
"nags",
"nap",
"napkin",
"napkins",
"naps",
"neck",
"need",
"needs",
"ness",
"nest",
"nestlings",
"nests",
"net",
"nets",
"nett",
"new",
"next",
"nib",
"nick",
"nil",
"nill",
"nip",
"nips",
"nit",
"nix",
"no",
"nod",
"nods",
"nonstop",
"norm",
"not",
"now",
"nub",
"null",
"nun",
"nut",
"nuts",
"nutshell",
"nyc",
"o.k.",
"obelisk",
"object",
"objects",
"odd",
"odds",
"of",
"off",
"oft",
"oh",
"ok",
"old",
"on",
"one",
"onset",
"onto",
"opt",
"or",
"orb",
"our",
"out",
"outfit",
"outfits",
"ow",
"ox",
"p.e.",
"p.m.",
"pack",
"packs",
"pacs",
"pact",
"pad",
"pads",
"pal",
"pals",
"pam",
"pan",
"pandemic",
"panic",
"panics",
"panning",
"pant",
"pants",
"pap",
"pass",
"past",
"pat",
"path",
"paths",
"pats",
"pax",
"pay",
"payback",
"pays",
"peckish",
"peg",
"pegs",
"pelt",
"pen",
"penmanship",
"pens",
"pent",
"pep",
"perish",
"pest",
"pests",
"pet",
"pets",
"pic",
"pick",
"pickax",
"picks",
"picnic",
"pig",
"pill",
"pimp",
"pin",
"pinch",
"ping",
"pink",
"pinkish",
"pins",
"pip",
"pip",
"pips",
"piss",
"pit",
"pits",
"pjs",
"plan",
"planet",
"plank",
"planning",
"plans",
"plant",
"planting",
"plants",
"plastic",
"play",
"plays",
"plaything",
"pled",
"plod",
"plods",
"plop",
"plot",
"plots",
"plug",
"plugs",
"plum",
"plums",
"plus",
"pock",
"pocket",
"pockets",
"pod",
"pomp",
"pond",
"ponds",
"pong",
"pop",
"pops",
"pork",
"porn",
"port",
"posh",
"pot",
"pots",
"pox",
"prank",
"pranks",
"pray",
"prep",
"preps",
"present",
"press",
"prig",
"prill",
"prim",
"prim",
"print",
"prints",
"prod",
"prods",
"profits",
"progress",
"project",
"prom",
"prop",
"psst",
"pub",
"puff",
"puffs",
"pug",
"pulp",
"pump",
"pumpkin",
"pun",
"punch",
"punish",
"punt",
"pup",
"puppet",
"pups",
"pus",
"puss",
"putt",
"quack",
"quest",
"quests",
"quick",
"quicksand",
"quilt",
"quit",
"quiz",
"rabbits",
"rack",
"racket",
"rackets",
"raff",
"raft",
"rag",
"rags",
"ram",
"ramp",
"ran",
"ranch",
"rand",
"rant",
"rants",
"rap",
"raps",
"rapt",
"rash",
"rasp",
"rat",
"rats",
"ray",
"rays",
"red",
"redd",
"ref",
"relic",
"rent",
"rents",
"repp",
"reps",
"rest",
"rests",
"rev",
"rex",
"rib",
"rich",
"rid",
"riff",
"rift",
"rifts",
"rig",
"rill",
"rim",
"ring",
"ringing",
"rings",
"rip",
"rip-off",
"rips",
"risk",
"rob",
"rock",
"rocket",
"rocking",
"rocks",
"rod",
"rods",
"romp",
"room",
"rot",
"rots",
"rub",
"rubbish",
"rubs",
"rudd",
"ruff",
"rug",
"rugs",
"rum",
"rump",
"run",
"run-down",
"running",
"runs",
"rush",
"rushing",
"rusk",
"rust",
"rustic",
"rut",
"ruts",
"sac",
"sack",
"sacs",
"sad",
"sag",
"sags",
"sam",
"same",
"samp",
"sand",
"sandbank",
"sandbox",
"sandpit",
"sandwich",
"sank",
"sap",
"sapling",
"saps",
"sass",
"sat",
"satin",
"sax",
"say",
"says",
"scab",
"scad",
"scam",
"scan",
"scans",
"scat",
"scoffs",
"scot",
"scott",
"scrap",
"scraps",
"script",
"scrub",
"scrubs",
"scruff",
"scud",
"scuff",
"scum",
"scums",
"sec",
"sect",
"see",
"self",
"self-help",
"selfish",
"sell",
"sells",
"send",
"sends",
"sent",
"sept",
"set",
"setback",
"setbacks",
"sets",
"setting",
"sex",
"shaking",
"shall",
"sham",
"sharing",
"shark",
"she",
"shed",
"shelf",
"shell",
"shells",
"shh",
"shift",
"shifting",
"shifts",
"ship",
"ships",
"shock",
"shocks",
"shop",
"shopping",
"shops",
"shot",
"shots",
"shred",
"shreds",
"shrill",
"shrills",
"shrimp",
"shrinks",
"shrub",
"shrubs",
"shrug",
"shrugs",
"shush",
"shut",
"shuts",
"sibling",
"siblings",
"sick",
"sid",
"sift",
"sifts",
"silk",
"sill",
"silt",
"sin",
"sing",
"sings",
"sink",
"sinking",
"sinks",
"sip",
"sips",
"sit",
"sitcom",
"sits",
"sitting",
"six",
"sixth",
"sketch",
"skid",
"skids",
"skiff",
"skiffs",
"skill",
"skills",
"skim",
"skin",
"skink",
"skip",
"skips",
"skit",
"skull",
"skulls",
"skunk",
"slab",
"slag",
"slam",
"slams",
"slap",
"slaps",
"slash",
"slat",
"sled",
"slept",
"slick",
"slid",
"slim",
"sling",
"slings",
"slingshot",
"slink",
"slinks",
"slip",
"slipping",
"slips",
"slit",
"slob",
"slog",
"slop",
"slot",
"slots",
"slug",
"slum",
"slumps",
"slut",
"smacks",
"small",
"smash",
"smell",
"smells",
"smit",
"smith",
"smiths",
"smog",
"smug",
"smut",
"snack",
"snacks",
"snag",
"snap",
"snaps",
"sniff",
"sniffs",
"snip",
"snob",
"snot",
"snub",
"snuck",
"snug",
"so",
"sob",
"sobbing",
"sobs",
"socks",
"sod",
"soft",
"sol",
"some",
"son",
"sonnet",
"sop",
"sops",
"sort",
"sot",
"span",
"spanish",
"spans",
"spat",
"speck",
"specks",
"sped",
"spell",
"spelling",
"spells",
"spend",
"spends",
"spent",
"spic",
"spill",
"spilling",
"spills",
"spin",
"spinning",
"spins",
"spirit",
"spit",
"spits",
"splash",
"splat",
"splendid",
"split",
"splits",
"spot",
"spots",
"spotting",
"spray",
"sprays",
"spring",
"springs",
"sprint",
"sprinting",
"sprints",
"spud",
"spun",
"squints",
"squish",
"stab",
"stabs",
"stack",
"stacks",
"staff",
"stag",
"stalls",
"stamp",
"stamps",
"stan",
"stand",
"standing",
"stands",
"stank",
"stash",
"stay",
"stays",
"stem",
"step",
"steps",
"stet",
"stick",
"sticking",
"sticks",
"stiff",
"still",
"sting",
"stings",
"stink",
"stinks",
"stock",
"stocks",
"stomp",
"stomps",
"stop",
"stops",
"strap",
"straps",
"strength",
"stress",
"strict",
"string",
"strings",
"strips",
"strong",
"struck",
"stub",
"stuck",
"stud",
"stuff",
"stuffs",
"stum",
"stun",
"stunning",
"stuns",
"stunt",
"sub",
"such",
"suck",
"sucks",
"sudd",
"sulk",
"sum",
"summit",
"sump",
"sun",
"sunblock",
"sunday",
"sunkid",
"sunkids",
"sunset",
"sup",
"suspect",
"suspects",
"swag",
"swam",
"swell",
"swift",
"swig",
"swigs",
"swim",
"swimming",
"swims",
"swing",
"swings",
"swish",
"swiss",
"switch",
"swum",
"t-rex",
"t.b.d.",
"tab",
"tablet",
"tablets",
"tact",
"tactics",
"tad",
"tag",
"tags",
"talc",
"tall",
"tam",
"tamp",
"tan",
"tank",
"tap",
"taps",
"task",
"tasks",
"tass",
"tat",
"tax",
"ted",
"ted",
"tell",
"telling",
"tells",
"ten",
"tend",
"tends",
"tennis",
"tent",
"tents",
"terrific",
"test",
"tests",
"text",
"texts",
"than",
"thank",
"thanks",
"that",
"the",
"theft",
"their",
"them",
"then",
"there",
"these",
"they",
"thick",
"thicket",
"thin",
"thing",
"things",
"think",
"thinking",
"thinks",
"this",
"those",
"thrill",
"thud",
"thudding",
"thuds",
"thump",
"thumps",
"tick",
"ticket",
"tickets",
"ticks",
"tics",
"tiff",
"till",
"tilt",
"tilts",
"tim",
"time",
"timid",
"tin",
"tint",
"tip",
"tips",
"to",
"tock",
"todd",
"toff",
"toft",
"told",
"tom",
"tom",
"ton",
"too",
"top",
"topic",
"tops",
"torn",
"tort",
"toss",
"tot",
"tot",
"total",
"tots",
"toxic",
"toxins",
"track",
"tracking",
"tracks",
"tract",
"traffic",
"tram",
"tramp",
"tramps",
"trap",
"traps",
"trash",
"trek",
"trekking",
"treks",
"trent",
"trick",
"tricks",
"trig",
"trim",
"trip",
"trips",
"trod",
"trot",
"trots",
"truck",
"trumpet",
"trunk",
"trunks",
"trust",
"trusts",
"tub",
"tuck",
"tucks",
"tuff",
"tuft",
"tug",
"tugs",
"tum",
"tusk",
"tut",
"tux",
"tv",
"twig",
"twigs",
"twin",
"twist",
"twisting",
"twists",
"twit",
"uh",
"um",
"unless",
"unlock",
"unlocks",
"unpack",
"unpacks",
"unrest",
"until",
"unzips",
"up",
"ups",
"upset",
"upsets",
"us",
"usa",
"valid",
"vamp",
"van",
"vanish",
"vast",
"vat",
"vats",
"vent",
"vess",
"vest",
"vet",
"vets",
"vex",
"vic",
"vim",
"visit",
"visiting",
"visits",
"viv",
"vomits",
"vox",
"vp",
"wag",
"wags",
"wall",
"walls",
"want",
"wants",
"was",
"wax",
"way",
"ways",
"we",
"web",
"wed",
"weld",
"well",
"welt",
"wend",
"went",
"wept",
"were",
"west",
"wet",
"what",
"when",
"where",
"which",
"whiff",
"whip",
"whiz",
"who",
"why",
"wig",
"will",
"wilt",
"win",
"wind",
"wing",
"wings",
"wink",
"winks",
"winning",
"wish",
"wishing",
"wisp",
"wiss",
"wist",
"wit",
"with",
"wits",
"witts",
"wiz",
"wok",
"woks",
"won",
"word",
"words",
"worn",
"x",
"xoxo",
"xs",
"yak",
"yam",
"yank",
"yanks",
"yap",
"yaps",
"yell",
"yelling",
"yells",
"yelp",
"yelps",
"yen",
"yep",
"yes",
"yet",
"yett",
"yin",
"yip",
"yips",
"yom",
"yon",
"you",
"your",
"yours",
"yourself",
"yuck",
"yuk",
"yuks",
"yum",
"yup",
"zack",
"zag",
"zags",
"zap",
"zaps",
"zed",
"zest",
"zig",
"zigs",
"zilch",
"zinc",
"zip",
"ziplock",
"zips"
]);

// Helper function to check if a word is valid (including possessives and plurals)
function checkWord(word) {
    const cleanWord = word.toLowerCase().replace(/[^a-z']/g, '');
    
    // Direct dictionary check
    if (dictionary.has(cleanWord)) {
        return true;
    }

    // Remove trailing 's or s' if present
    let baseWord = cleanWord;
    
    // Handle possessives first (word's or words')
    if (baseWord.includes("'")) {
        baseWord = baseWord
            .replace(/'s$/, '')   // remove 's at end
            .replace(/s'$/, 's')  // handle plural possessive
            .replace(/'$/, '');   // handle any remaining apostrophes
    }
    // Then handle regular plurals
    else if (baseWord.endsWith('s')) {
        baseWord = baseWord.slice(0, -1);  // remove trailing s
    }

    // Check if base word is in dictionary
    return dictionary.has(baseWord);
}

// Make checkText function global so it can be accessed by the onclick handler
window.checkText = function() {
    const inputText = document.getElementById('inputText').value;
    const words = inputText.split(/\s+/).filter(word => word.length > 0);
    const resultDiv = document.getElementById('result');
    const unknownWords = new Set();
    let recognizedWordCount = 0;
    let totalValidWords = 0;

    // Split text into sentences
    const sentences = inputText.match(/[^.!?]+[.!?]+/g) || [];
    const problematicSentences = new Set();

    resultDiv.innerHTML = '';

    // First div for the marked text
    const textDiv = document.createElement('div');
    textDiv.id = 'markedText';

    // Process words for the main text display and counting
    words.forEach(word => {
        const cleanWord = word.toLowerCase().replace(/[^a-z']/g, '');
        const span = document.createElement('span');
        span.textContent = word + ' ';
        
        if (cleanWord) {
            totalValidWords++;
            if (checkWord(word)) {
                recognizedWordCount++;
            } else {
                span.className = 'incorrect';
                unknownWords.add(cleanWord);
            }
        }
        
        textDiv.appendChild(span);
    });

    // Process sentences
    const processedSentences = sentences.map(sentence => {
        let containsUnrecognizedWord = false;
        // Split into words while preserving spacing and punctuation
        const processedWords = sentence.split(/(\s+|[.,!?]+)/).map(part => {
            // If it's not just whitespace or punctuation
            if (part.trim() && !part.match(/^[.,!?\s]+$/)) {
                const cleanWord = part.toLowerCase().replace(/[^a-z']/g, '');
                if (cleanWord && !checkWord(part)) {
                    containsUnrecognizedWord = true;
                    return `<span class="incorrect">${part}</span>`;
                }
            }
            return part;
        });

        const processedSentence = processedWords.join('');
        if (containsUnrecognizedWord) {
            problematicSentences.add(processedSentence);
        }
        return processedSentence;
    });

    // Calculate percentage
    const percentage = totalValidWords > 0 
        ? ((recognizedWordCount / totalValidWords) * 100).toFixed(2) 
        : 0;

    // Create statistics section
    const statsDiv = document.createElement('div');
    statsDiv.style.marginTop = '20px';
    statsDiv.style.borderTop = '1px solid #ccc';
    statsDiv.style.paddingTop = '10px';
    statsDiv.innerHTML = `
        <h3>Statistics:</h3>
        <p>Total words: ${totalValidWords}</p>
        <p>Recognized words: ${recognizedWordCount}</p>
        <p>Unrecognized words: ${totalValidWords - recognizedWordCount}</p>
        <p>Recognition rate: ${percentage}%</p>
    `;

    // Create problematic sentences section
    const sentencesDiv = document.createElement('div');
    sentencesDiv.style.marginTop = '20px';
    sentencesDiv.style.borderTop = '1px solid #ccc';
    sentencesDiv.style.paddingTop = '10px';

    if (problematicSentences.size > 0) {
        sentencesDiv.innerHTML = `
            <h3>Sentences with Unrecognized Words:</h3>
            <ol style="color: #000;">
                ${Array.from(problematicSentences).map(sentence => 
                    `<li>${sentence}</li>`
                ).join('')}
            </ol>
        `;
    }

    // Create unrecognized words section
    const unknownWordsDiv = document.createElement('div');
    unknownWordsDiv.style.marginTop = '20px';
    unknownWordsDiv.style.borderTop = '1px solid #ccc';
    unknownWordsDiv.style.paddingTop = '10px';

    if (unknownWords.size > 0) {
        unknownWordsDiv.innerHTML = `
            <h3>Unrecognized Words:</h3>
            <ul style="color: red;">
                ${Array.from(unknownWords).map(word => `<li>${word}</li>`).join('')}
            </ul>
        `;
    } else {
        unknownWordsDiv.innerHTML = '<p>All words are recognized!</p>';
    }

    // Add all sections to the result
    resultDiv.appendChild(textDiv);
    resultDiv.appendChild(statsDiv);
    resultDiv.appendChild(sentencesDiv);
    resultDiv.appendChild(unknownWordsDiv);
};